<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.3">
        <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon-04cb17e028.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32-12431ee8eb.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16-4f316e4d55.png">
        <link rel="manifest" href="/img/favicon/manifest-65e6aaa49e.json">
        <link rel="mask-icon" href="/img/favicon/safari-pinned-tab-558c1991b1.svg" color="#dc5656">
        <link rel="shortcut icon" href="/img/favicon/favicon-6cef91375b.ico">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="/img/favicon/mstile-144x144-34e7696278.png">
        <meta name="msapplication-config" content="/img/favicon/browserconfig-82ff158058.xml">
        <meta name="theme-color" content="#ffffff">
        <link rel="stylesheet" href="https://cayenne.apache.org/css/styles-c9177521cd.css"/>
        <script src="https://cayenne.apache.org/js/bundle-bcaaf59313.js"></script>
        <title>Guide to Cayenne CMS &middot; Apache Cayenne</title>
    </head>
    <body>



<header class="page-header">
    <nav id="topbar" class="bg-dark" aria-label="breadcrumb" role="navigation">
      <ul class="breadcrumb breadcrumb-sm breadcrumb-dark  container  mb-0">
        <li class="breadcrumb-item dropdown">
          <a class="dropdown-toggle  text-nowrap  pr-1" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <img class="mw-15px  mr-1" src="/img/feather-641aa69d09.svg" />Apache Software Foundation</a>
          <div class="dropdown-menu rounded-0" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="https://www.apache.org">Apache Homepage</a>
            <a class="dropdown-item" href="https://www.apache.org/licenses/">License</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
            <a class="dropdown-item" href="https://www.apache.org/security/">Security</a>
          </div>
        </li>
        
      </ul>
    </nav>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <div class="container">
        <a class="navbar-brand" href="https://cayenne.apache.org/">
           <img src="/img/logo_mono_full-d7a19eef61.svg" alt="Apache Cayenne" />
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mainMenu" aria-controls="mainMenu" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="mainMenu">
          <ul class="navbar-nav  mt-3 mt-lg-0 mr-auto">
            
            <li class="nav-item">
              <a class="nav-link" href="/download/">DOWNLOAD</a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="/docs/4.0/getting-started-guide/">DOCUMENTATION</a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="/about/support/">SUPPORT</a>
            </li>
            
          </ul>
          <ul class="navbar-nav  flex-row justify-content-center  mt-2 mt-lg-0 mb-2 mb-lg-0 " id="social-links-menu">
            <li class="nav-item  d-flex">
              <a class="nav-link  d-flex justify-content-center align-items-center" href="https://github.com/apache/cayenne">
                <img src="/img/icon_octocat_stars-c24dac94b8.svg" alt="GitHub" /><span class="stargazers_count  ml-1l2"></span></a>
            </li>
            <li class="nav-item  d-flex">
              <a class="nav-link  d-flex justify-content-center align-items-center" href="https://twitter.com/ApacheCayenne">
                <img src="/img/icon_twitter-220a129d14.svg" alt="Twitter" />
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
</header>




    <main class="container  py-5">
        
                <section>
                    <article>
                        <h1 class="text-center">Guide to Cayenne CMS</h1>
                        

<p>Cayenne Site source code (content + styling + scripts) can be obtained from Apache Git repo:<br />
<a href="https://git-wip-us.apache.org/repos/asf/cayenne-website.git">https://git-wip-us.apache.org/repos/asf/cayenne-website.git</a></p>

<p>Or from GitHub mirror (in read only mode): <a href="https://github.com/apache/cayenne-website.git">https://github.com/apache/cayenne-website.git</a></p>


<div class="pb-3"></div>

<h2 id="dev-mode">Dev mode</h2>

<p>Just clone and run maven, nothing else required.</p>

<pre><code>git clone https://git-wip-us.apache.org/repos/asf/cayenne-website.git
cd cayenne-website
mvn
</code></pre>

<p>Open <a href="http://localhost:3000">http://localhost:3000</a> in your browser. In dev mode site supports live-reloading.</p>

<p><em>You can change host and port by setting <code>dev.host</code> and <code>dev.port</code> properties:</em></p>

<pre><code>mvn -Ddev.host=&quot;my.local&quot; -Ddev.port=&quot;8080&quot;
</code></pre>


<div class="pb-3"></div>

<h2 id="publish">Publish</h2>

<p>To publish new version just run Maven with <code>publish</code> profile. This will build production version of the site (with <code>cayenne.apache.org</code> base URL)
and push commit into <code>asf-site</code> branch that will be synced with actual site content location:</p>

<pre><code>mvn -Ppublish -Dmsg=&quot;commit message describing site changes&quot;
</code></pre>

<p>That&rsquo;s all, so be carefull and review your changes before publishing (also don&rsquo;t forget to check them after).</p>

<p>Don&rsquo;t forget to push you source&rsquo;s changes so others won&rsquo;t rewrite them.</p>

<p><em>NOTE</em>: This process can be automated by Jenkins. It can run publish on every commit to <code>master</code>.
But for now it is better to use manual publishing.</p>


<div class="pb-3"></div>

<h2 id="content-modifications">Content modifications</h2>

<h3 id="publishing-news">Publishing news</h3>

<p>To publish news simply add new file at <code>src/main/site/content/news/</code> folder.
You can use following template:</p>

<p><code>some-good-news.md</code></p>

<pre><code>---
title: Good news everyone!
date: 2017-01-01T00:00:00+03:00
--- 

Content goes here
</code></pre>

<h3 id="releasing-new-cayenne-version">Releasing new cayenne version</h3>

<p>To update site content with information about new Cayenne version you need to perform these steps:</p>

<ul>
<li>Update data in <code>src/main/site/data/cayenne.yaml</code> file.
This automatically update <a href="/download/">download</a> page and <code>/doap/caynne.rdf</code> file.</li>
<li>Write news (see information above).</li>
<li>Update documentation, this can be done with <code>build-docs.sh</code> script.
You can run it like this: <code>./build-docs.sh 4.1.M2</code></li>
<li>Publish your changes (see <a href="#Publish">publish</a> section)</li>
</ul>


<div class="pb-3"></div>

<h2 id="advanced">Advanced</h2>

<p>Node.js, Yarn, Gulp and Hugo used to build this site, Maven used just to boostrap Node.js and
Yarn tools and launch Gulp tasks.
Hugo binaries managed by <a href="https://www.npmjs.com/package/hugo-bin">hugo-bin</a> NPM module.</p>

<h3 id="src-structure">Src structure</h3>

<p>There is two main parts of site src:</p>

<ul>
<li><p><code>src/main/assets</code> assets processed by <a href="https://gulpjs.com">Gulp</a> tasks</p>

<ul>
<li><code>/gulp/</code> - list of Gulp tasks:

<ul>
<li><code>hugo.js</code> - contains tasks that launch Hugo to process all content</li>
<li><code>images.js</code> - compress and copy images</li>
<li><code>reference.js</code> - replace references to generated resources inside content</li>
<li><code>revision.js</code> - generate manifest file with resources versions</li>
<li><code>scripts.js</code> - launch Webpack to process JavaScript resources</li>
<li><code>serve.js</code> - launch dev-version of site with live-reloading</li>
<li><code>styles.js</code> - generate CSS bundle (concat, minify, etc..)</li>
</ul></li>
<li><code>/images/</code> - images that will be compressed and published into site <code>/img</code> directory,
you can put any stuff used by site here (see <code>/gulp/images.js</code>)</li>
<li><code>/scripts/</code> - JavaScript sources, <code>main.js</code> is an entry point for the final bundle,
will be processed by Webpack (see <code>/gulp/scripts.js</code>)</li>
<li><code>/styles/</code> - Sass sources, <code>main.scss</code> is an entry point for the final bundle
(see <code>/gulp/styles.js</code>)</li>
<li><code>gulpfile.js</code> - main file for Gulp tasks, define some global path constants</li>
<li><code>package.json</code> - all project dependencies are defined here</li>
</ul></li>

<li><p><code>src/main/site</code> assets processed <a href="https://gohugo.io">Hugo</a> site generator</p>

<ul>
<li><code>/content/</code> - main content part of the site, markdown and HTML files</li>
<li><code>/data/</code> - data files in <em>yaml</em> format</li>
<li><code>/layouts/</code> - site templates, using <a href="https://golang.org/pkg/text/template/">GO templates</a></li>
<li><code>/static/</code> - files that will be copied as is to the final site content, note that <code>js</code>, <code>img</code> and <code>css</code> directories
are processed via Gulp tasks, and shouldn&rsquo;t be used directly, instead use coresponding directories in <code>assets</code>.<br /></li>
<li><code>config.yaml</code> - Hugo configuration</li>
</ul></li>
</ul>

                    </article>
                </section>
            
        
        <div class="pb-3"></div>
        <div class="row">
            <div class="col-12 col-md-6  text-center text-md-left">
                
                <a class="btn btn-link" href='/dev/running-unit-tests.html'>
                    <span class="d-block d-md-none  text-muted">Prev: </span>
                    <i class="small  fa fa-chevron-left  mr-3l2  d-none d-md-inline"></i>
                    Running Unit Tests
                </a>
                
            </div>
            <div class="col-12 col-md-6  text-center text-md-right">
                
            </div>
        </div>
    </main>


<footer class="bg-dark">
    <div class="footer-nav container  text-center text-lg-left  pb-3">
        <div class="row  pt-5 pb-3">
            
            <div class="col-sm-6 col-lg-3">
                <h4>About</h4>
                <ul class="list-unstyled">
                    
                    <li>
                        <a href="/why-cayenne.html">Why Cayenne?</a>
                    </li>
                    
                    <li>
                        <a href="/download/">Download</a>
                    </li>
                    
                    <li>
                        <a href="/success-stories.html">Success Stories</a>
                    </li>
                    
                    <li>
                        <a href="/about/support/">Support</a>
                    </li>
                    
                </ul>
            </div>
            
            <div class="col-sm-6 col-lg-3">
                <h4>Documentation</h4>
                <ul class="list-unstyled">
                    
                    <li>
                        <a href="/docs/4.0/getting-started-guide/">Getting Started (4.0)</a>
                    </li>
                    
                    <li>
                        <a href="/docs/4.1/getting-started-guide/">Getting Started (4.1)</a>
                    </li>
                    
                    <li>
                        <a href="/docs/4.0/cayenne-guide/">Cayenne Guide (4.0)</a>
                    </li>
                    
                    <li>
                        <a href="/docs/4.1/cayenne-guide/">Cayenne Guide (4.1)</a>
                    </li>
                    
                    <li>
                        <a href="/docs/4.1/getting-started-db-first/">Database First tutorial (4.1)</a>
                    </li>
                    
                </ul>
            </div>
            
            <div class="col-sm-6 col-lg-3">
                <h4>Collaboration</h4>
                <ul class="list-unstyled">
                    
                    <li>
                        <a href="https://issues.apache.org/jira/browse/CAY">Bug/Feature Tracker</a>
                    </li>
                    
                    <li>
                        <a href="/mailing-lists.html">Mailing Lists</a>
                    </li>
                    
                    <li>
                        <a href="/dev/code-repository.html">Code Repository</a>
                    </li>
                    
                    <li>
                        <a href="/dev/">Developer Guide</a>
                    </li>
                    
                    <li>
                        <a href="/how-can-i-help.html">How can I help?</a>
                    </li>
                    
                    <li>
                        <a href="/contributors.html">Contributors</a>
                    </li>
                    
                    <li>
                        <a href="/thanks.html">Thanks</a>
                    </li>
                    
                </ul>
            </div>
            
            <div class="col-sm-6 col-lg-3">
                <h4>News</h4>
                <ul class="list-multiline-items list-unstyled  mb-0">
                    
                    <li>
                        <time datetime="2017-11-20 12:00:00 &#43;0300 &#43;03" class="xsmall d-block">Nov 20, 2017</time>
                        <a href="/2017/11/cayenne-312-released.html">Cayenne 3.1.2 Released</a>
                    </li>
                    
                    <li>
                        <time datetime="2017-10-14 12:00:00 &#43;0300 &#43;03" class="xsmall d-block">Oct 14, 2017</time>
                        <a href="/2017/10/cayenne-41m1-released.html">Cayenne 4.1 Milestone 1 Released</a>
                    </li>
                    
                    <li>
                        <time datetime="2017-10-06 17:38:42 &#43;0300 &#43;03" class="xsmall d-block">Oct 06, 2017</time>
                        <a href="/2017/10/cayenne-40B2-released.html">Cayenne 4.0 Beta 2 Released</a>
                    </li>
                    
                </ul>
                <a class="btn-link text-uppercase xsmall" href="https://cayenne.apache.org/news">
                    More news
                    <i class="fa fa-lg fa-long-arrow-right" aria-hidden="true"></i>
                </a>
            </div>
        </div>
        <hr class="mt-0 mb-3" />
        <p class="copy xsmall text-center  mw-75 mx-auto mb-0">
            Copyright Â© 2001-2018 Apache Software Foundation. Apache Cayenne, Cayenne, Apache, the Apache feather logo, and the Apache Cayenne project logo are trademarks of The Apache Software Foundation. <a href="https://cayenne.apache.org/privacy-policy.html">Privacy policy</a>.
            <img class="d-block  mx-auto mt-2" src="/img/logo_mono-3302daa3cf.svg" alt="Apache Cayenne" />
        </p>
    </div>
</footer>
    
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-7036673-1', 'auto');
ga('send', 'pageview');
</script>

    </body>
</html>
